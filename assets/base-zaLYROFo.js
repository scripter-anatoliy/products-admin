const u="https://dummyjson.com";async function a(t,s={}){const{token:n,...r}=s,c=t.startsWith("http")?t:`${u}${t}`,i={"Content-Type":"application/json",...r.headers};n&&(i.Authorization=`Bearer ${n}`);const e=await fetch(c,{...r,headers:i,credentials:"omit"}),o=await e.json().catch(()=>({}));if(!e.ok)throw new h(e.status,(o==null?void 0:o.message)??e.statusText,o);return o}function p(t,s={}){return a(t,{...s,method:"GET"})}function d(t,s,n={}){return a(t,{...n,method:"POST",body:s!=null?JSON.stringify(s):void 0})}class h extends Error{constructor(s,n,r){super(n),this.status=s,this.payload=r,this.name="ApiError"}}export{h as A,p as g,d as p};
